<!DOCTYPE html>

<html :class="{'dark': darkMode === 'dark' || (darkMode === 'system' &amp;&amp; window.matchMedia('(prefers-color-scheme: dark)').matches)}" class="scroll-smooth" data-content_root="../" lang="zh-CN" x-data="{ darkMode: localStorage.getItem('darkMode') || localStorage.setItem('darkMode', 'system'), activeSection: '' }" x-init="$watch('darkMode', val =&gt; localStorage.setItem('darkMode', val))">
<head>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta charset="utf-8"/>
<meta content="white" media="(prefers-color-scheme: light)" name="theme-color"/>
<meta content="black" media="(prefers-color-scheme: dark)" name="theme-color"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>1_7_字典和字典操作 | 01_dl 1.0 文档</title>
<meta content="1_7_字典和字典操作 | 01_dl 1.0 文档" property="og:title"/>
<meta content="1_7_字典和字典操作 | 01_dl 1.0 文档" name="twitter:title"/>
<link href="../_static/pygments.css?v=e72c8e07" rel="stylesheet" type="text/css"/>
<link href="../_static/theme.css?v=42baaae4" rel="stylesheet" type="text/css"/>
<link href="../search.html" rel="search" title="搜索"/>
<link href="../genindex.html" rel="index" title="索引"/>
<link href="1_8_%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2.html" rel="next" title="1_8_数据类型转换"/>
<link href="1_6_%E5%85%83%E7%BB%84%E5%92%8C%E5%85%83%E7%BB%84%E6%93%8D%E4%BD%9C.html" rel="prev" title="1_6_元组和元组操作"/>
<script>
    <!-- Prevent Flash of wrong theme -->
      const userPreference = localStorage.getItem('darkMode');
      let mode;
      if (userPreference === 'dark' || window.matchMedia('(prefers-color-scheme: dark)').matches) {
        mode = 'dark';
        document.documentElement.classList.add('dark');
      } else {
        mode = 'light';
      }
      if (!userPreference) {localStorage.setItem('darkMode', mode)}
    </script>
</head>
<body :class="{ 'overflow-hidden': showSidebar }" class="min-h-screen font-sans antialiased bg-background text-foreground" x-data="{ showSidebar: false, showScrollTop: false }">
<div @click.self="showSidebar = false" class="fixed inset-0 z-50 overflow-hidden bg-background/80 backdrop-blur-sm md:hidden" x-cloak="" x-show="showSidebar"></div><div class="relative flex flex-col min-h-screen" id="page"><a class="absolute top-0 left-0 z-[100] block bg-background p-4 text-xl transition -translate-x-full opacity-0 focus:translate-x-0 focus:opacity-100" href="#content">
      Skip to content
    </a><header class="sticky top-0 z-40 w-full border-b shadow-sm border-border supports-backdrop-blur:bg-background/60 bg-background/95 backdrop-blur"><div class="container flex items-center h-14">
<div class="hidden mr-4 md:flex">
<a class="flex items-center mr-6" href="../index.html"><span class="hidden font-bold sm:inline-block text-clip whitespace-nowrap">01_dl 1.0 文档</span>
</a></div><button @click="showSidebar = true" class="inline-flex items-center justify-center h-10 px-0 py-2 mr-2 text-base font-medium transition-colors rounded-md hover:text-accent-foreground hover:bg-transparent md:hidden" type="button">
<svg aria-hidden="true" fill="currentColor" height="24" viewbox="0 96 960 960" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M152.587 825.087q-19.152 0-32.326-13.174t-13.174-32.326q0-19.152 13.174-32.326t32.326-13.174h440q19.152 0 32.326 13.174t13.174 32.326q0 19.152-13.174 32.326t-32.326 13.174h-440Zm0-203.587q-19.152 0-32.326-13.174T107.087 576q0-19.152 13.174-32.326t32.326-13.174h320q19.152 0 32.326 13.174T518.087 576q0 19.152-13.174 32.326T472.587 621.5h-320Zm0-203.587q-19.152 0-32.326-13.174t-13.174-32.326q0-19.152 13.174-32.326t32.326-13.174h440q19.152 0 32.326 13.174t13.174 32.326q0 19.152-13.174 32.326t-32.326 13.174h-440ZM708.913 576l112.174 112.174q12.674 12.674 12.674 31.826t-12.674 31.826Q808.413 764.5 789.261 764.5t-31.826-12.674l-144-144Q600 594.391 600 576t13.435-31.826l144-144q12.674-12.674 31.826-12.674t31.826 12.674q12.674 12.674 12.674 31.826t-12.674 31.826L708.913 576Z"></path>
</svg>
<span class="sr-only">Toggle navigation menu</span>
</button>
<div class="flex items-center justify-between flex-1 space-x-2 sm:space-x-4 md:justify-end">
<div class="flex-1 w-full md:w-auto md:flex-none"><form @keydown.k.window.meta="$refs.search.focus()" action="../search.html" class="relative flex items-center group" id="searchbox" method="get">
<input aria-label="Search the docs" class="inline-flex items-center font-medium transition-colors bg-transparent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 ring-offset-background border border-input hover:bg-accent focus:bg-accent hover:text-accent-foreground focus:text-accent-foreground hover:placeholder-accent-foreground py-2 px-4 relative h-9 w-full justify-start rounded-[0.5rem] text-sm text-muted-foreground sm:pr-12 md:w-40 lg:w-64" id="search-input" name="q" placeholder="Search ..." type="search" x-ref="search"/>
<kbd class="pointer-events-none absolute right-1.5 top-2 hidden h-5 select-none text-muted-foreground items-center gap-1 rounded border border-border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100 sm:flex group-hover:bg-accent group-hover:text-accent-foreground">
<span class="text-xs">⌘</span>
    K
  </kbd>
</form>
</div>
<nav class="flex items-center space-x-1">
<button @click="darkMode = darkMode === 'light' ? 'dark' : 'light'" aria-label="Color theme switcher" class="relative inline-flex items-center justify-center px-0 text-sm font-medium transition-colors rounded-md hover:bg-accent hover:text-accent-foreground h-9 w-9" type="button">
<svg class="absolute transition-all scale-100 rotate-0 dark:-rotate-90 dark:scale-0" fill="currentColor" height="24" viewbox="0 96 960 960" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M480 685q45.456 0 77.228-31.772Q589 621.456 589 576q0-45.456-31.772-77.228Q525.456 467 480 467q-45.456 0-77.228 31.772Q371 530.544 371 576q0 45.456 31.772 77.228Q434.544 685 480 685Zm0 91q-83 0-141.5-58.5T280 576q0-83 58.5-141.5T480 376q83 0 141.5 58.5T680 576q0 83-58.5 141.5T480 776ZM80 621.5q-19.152 0-32.326-13.174T34.5 576q0-19.152 13.174-32.326T80 530.5h80q19.152 0 32.326 13.174T205.5 576q0 19.152-13.174 32.326T160 621.5H80Zm720 0q-19.152 0-32.326-13.174T754.5 576q0-19.152 13.174-32.326T800 530.5h80q19.152 0 32.326 13.174T925.5 576q0 19.152-13.174 32.326T880 621.5h-80Zm-320-320q-19.152 0-32.326-13.174T434.5 256v-80q0-19.152 13.174-32.326T480 130.5q19.152 0 32.326 13.174T525.5 176v80q0 19.152-13.174 32.326T480 301.5Zm0 720q-19.152 0-32.326-13.17Q434.5 995.152 434.5 976v-80q0-19.152 13.174-32.326T480 850.5q19.152 0 32.326 13.174T525.5 896v80q0 19.152-13.174 32.33-13.174 13.17-32.326 13.17ZM222.174 382.065l-43-42Q165.5 327.391 166 308.239t13.174-33.065q13.435-13.674 32.587-13.674t32.065 13.674l42.239 43q12.674 13.435 12.555 31.706-.12 18.272-12.555 31.946-12.674 13.674-31.445 13.413-18.772-.261-32.446-13.174Zm494 494.761-42.239-43q-12.674-13.435-12.674-32.087t12.674-31.565Q686.609 756.5 705.38 757q18.772.5 32.446 13.174l43 41.761Q794.5 824.609 794 843.761t-13.174 33.065Q767.391 890.5 748.239 890.5t-32.065-13.674Zm-42-494.761Q660.5 369.391 661 350.62q.5-18.772 13.174-32.446l41.761-43Q728.609 261.5 747.761 262t33.065 13.174q13.674 13.435 13.674 32.587t-13.674 32.065l-43 42.239q-13.435 12.674-31.706 12.555-18.272-.12-31.946-12.555Zm-495 494.761Q165.5 863.391 165.5 844.239t13.674-32.065l43-42.239q13.435-12.674 32.087-12.674t31.565 12.674Q299.5 782.609 299 801.38q-.5 18.772-13.174 32.446l-41.761 43Q231.391 890.5 212.239 890t-33.065-13.174ZM480 576Z"></path>
</svg>
<svg class="absolute transition-all scale-0 rotate-90 dark:rotate-0 dark:scale-100" fill="currentColor" height="24" viewbox="0 96 960 960" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M480 936q-151 0-255.5-104.5T120 576q0-138 90-239.5T440 218q25-3 39 18t-1 44q-17 26-25.5 55t-8.5 61q0 90 63 153t153 63q31 0 61.5-9t54.5-25q21-14 43-1.5t19 39.5q-14 138-117.5 229T480 936Zm0-80q88 0 158-48.5T740 681q-20 5-40 8t-40 3q-123 0-209.5-86.5T364 396q0-20 3-40t8-40q-78 32-126.5 102T200 576q0 116 82 198t198 82Zm-10-270Z"></path>
</svg>
</button>
</nav>
</div>
</div>
</header>
<div class="flex-1"><div class="container flex-1 items-start md:grid md:grid-cols-[220px_minmax(0,1fr)] md:gap-6 lg:grid-cols-[240px_minmax(0,1fr)] lg:gap-10"><aside :aria-hidden="!showSidebar" :class="{ 'translate-x-0': showSidebar }" class="fixed inset-y-0 left-0 md:top-14 z-50 md:z-30 bg-background md:bg-transparent transition-all duration-100 -translate-x-full md:translate-x-0 ml-0 p-6 md:p-0 md:-ml-2 md:h-[calc(100vh-3.5rem)] w-5/6 md:w-full shrink-0 overflow-y-auto border-r border-border md:sticky" id="left-sidebar">
<a class="!justify-start text-sm md:!hidden bg-background" href="../index.html"><span class="font-bold text-clip whitespace-nowrap">01_dl 1.0 文档</span>
</a>
<div class="relative overflow-hidden md:overflow-auto my-4 md:my-0 h-[calc(100vh-8rem)] md:h-auto">
<div class="overflow-y-auto h-full w-full relative pr-6"><nav class="table w-full min-w-full my-6 lg:my-8">
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">01_Python介绍</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02_%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E4%BB%8B%E7%BB%8D/index.html">02_深度学习介绍</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03_PyTorch%E4%BB%8B%E7%BB%8D/index.html">03_PyTorch介绍</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04_%E5%AE%9E%E9%AA%8C%E5%B7%A5%E7%A8%8B%E6%96%B9%E6%B3%95%E4%B8%8E%E8%A7%84%E8%8C%83/index.html">04_实验工程方法与规范</a></li>
</ul>
</nav>
</div>
</div>
<button @click="showSidebar = false" class="absolute md:hidden right-4 top-4 rounded-sm opacity-70 transition-opacity hover:opacity-100" type="button">
<svg class="h-4 w-4" fill="currentColor" height="24" stroke="none" viewbox="0 96 960 960" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M480 632 284 828q-11 11-28 11t-28-11q-11-11-11-28t11-28l196-196-196-196q-11-11-11-28t11-28q11-11 28-11t28 11l196 196 196-196q11-11 28-11t28 11q11 11 11 28t-11 28L536 576l196 196q11 11 11 28t-11 28q-11 11-28 11t-28-11L480 632Z"></path>
</svg>
</button>
</aside>
<main class="relative py-6 lg:gap-10 lg:py-8 xl:grid xl:grid-cols-[1fr_300px]">
<div class="w-full min-w-0 mx-auto">
<nav aria-label="breadcrumbs" class="flex items-center mb-4 space-x-1 text-sm text-muted-foreground">
<a class="overflow-hidden text-ellipsis whitespace-nowrap hover:text-foreground" href="../index.html">
<span class="hidden md:inline">01_dl 1.0 文档</span>
<svg aria-label="Home" class="md:hidden" fill="currentColor" height="18" stroke="none" viewbox="0 96 960 960" width="18" xmlns="http://www.w3.org/2000/svg">
<path d="M240 856h120V616h240v240h120V496L480 316 240 496v360Zm-80 80V456l320-240 320 240v480H520V696h-80v240H160Zm320-350Z"></path>
</svg>
</a>
<div class="mr-1">/</div><a class="hover:text-foreground overflow-hidden text-ellipsis whitespace-nowrap" href="index.html">01_Python介绍</a>
<div class="mr-1">/</div><span aria-current="page" class="font-medium text-foreground overflow-hidden text-ellipsis whitespace-nowrap">1_7_字典和字典操作</span>
</nav>
<div id="content" role="main">
<section id="id1">
<h1>1_7_字典和字典操作<a class="headerlink" href="#id1" title="Link to this heading"><span>#</span></a></h1>
<p><strong>作者</strong>: ZhouLong<br/>
<strong>创建日期</strong>: 2026 年 01 月 14 日<br/>
<strong>版本</strong>: 1.0<br/></p>
<div style="display: flex; justify-content: space-between; padding: 15px 0; margin: 20px 0; border-top: 1px solid #eaeaea; border-bottom: 1px solid #eaeaea;">
<a href="./1_6_元组和元组操作.html" style="text-decoration: none; color: #0366d6; padding: 8px 15px; border: 1px solid #e1e4e8; border-radius: 5px;">👈 上一页</a>
<a href="../index.html" style="text-decoration: none; color: #0366d6; padding: 8px 15px; border: 1px solid #e1e4e8; border-radius: 5px;">🏠 首页</a>
<a href="./1_8_数据类型转换.html" style="text-decoration: none; color: #0366d6; padding: 8px 15px; border: 1px solid #e1e4e8; border-radius: 5px;">下一页 👉</a>
</div>
<section id="id2">
<h2>1. 字典的基本概念<a class="headerlink" href="#id2" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#id2'"><span>#</span></a></h2>
<p>字典（Dictionary）是Python中由键值对元素构成的。其特征是每个元素都是一个键值对（key-value pair），键和值之间用冒号分隔，元素之间用逗号分隔，整个字典包括在花括号{}中。</p>
<section id="id3">
<h3>1.1 字典的特点<a class="headerlink" href="#id3" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#id3'"><span>#</span></a></h3>
<ul class="simple">
<li><p>无序：元素存储顺序不固定（Python 3.7+开始保持插入顺序，但仍被视为无序数据结构）</p></li>
<li><p>key（键）必须唯一且不可变（字符串、数字、元组可作为键）</p></li>
<li><p>value（值）可以是任意数据类型，且可重复</p></li>
<li><p>通过键而不是索引访问元素</p></li>
</ul>
</section>
</section>
<section id="id4">
<h2>2. 字典的创建<a class="headerlink" href="#id4" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#id4'"><span>#</span></a></h2>
<section id="id5">
<h3>2.1 直接创建<br/><a class="headerlink" href="#id5" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#id5'"><span>#</span></a></h3>
<p>创建字典（Dictionary）最基本的方法是使用花括号 <code class="docutils literal notranslate"><span class="pre">{}</span></code>。</p>
<ul class="simple">
<li><p><strong>空字典</strong>：直接用 <code class="docutils literal notranslate"><span class="pre">{}</span></code> 创建，表示一个不含任何键值对的字典。</p></li>
<li><p><strong>包含元素的字典</strong>：在花括号内用逗号分隔键值对，每个键值对使用冒号 <code class="docutils literal notranslate"><span class="pre">:</span></code> 连接键和值。字典可以嵌套复杂数据类型（如列表、其他字典）作为值。</p></li>
</ul>
<p>下面的代码示例演示了如何直接创建一个空字典和一个包含学生信息的字典，其中学生信息包括姓名、年龄、专业和成绩列表。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="c1"># 创建空字典</span>
</span><span id="line-2"><span class="n">empty_dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="line-3"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"空字典: </span><span class="si">{</span><span class="n">empty_dict</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="line-4">
</span><span id="line-5"><span class="c1"># 创建包含元素的字典</span>
</span><span id="line-6"><span class="n">student</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="line-7">    <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"张三"</span><span class="p">,</span>
</span><span id="line-8">    <span class="s2">"age"</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
</span><span id="line-9">    <span class="s2">"major"</span><span class="p">:</span> <span class="s2">"计算机科学"</span><span class="p">,</span>
</span><span id="line-10">    <span class="s2">"grades"</span><span class="p">:</span> <span class="p">[</span><span class="mi">85</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">92</span><span class="p">]</span>
</span><span id="line-11"><span class="p">}</span>
</span><span id="line-12"><span class="nb">print</span><span class="p">(</span><span class="n">student</span><span class="p">)</span> <span class="c1"># {'name': '张三', 'age': 20, 'major': '计算机科学', 'grades': [85, 90, 92]}</span>
</span></code></pre></div>
</div>
</section>
<section id="dict">
<h3>2.2 使用dict()构造函数<br/><a class="headerlink" href="#dict" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#dict'"><span>#</span></a></h3>
<p>除了直接使用花括号创建字典，还可以使用内置的 <code class="docutils literal notranslate"><span class="pre">dict()</span></code> 构造函数。这种方法提供了更灵活的创建方式，适用于从不同数据结构或动态数据生成字典。</p>
<ul class="simple">
<li><p><strong>关键字参数创建</strong>：将键作为关键字参数传递给 <code class="docutils literal notranslate"><span class="pre">dict()</span></code>，例如 <code class="docutils literal notranslate"><span class="pre">dict(name="李四",</span> <span class="pre">age=25)</span></code>，键会自动转为字符串。</p></li>
<li><p><strong>可迭代对象创建</strong>：传递一个包含键值对元组的列表（如 <code class="docutils literal notranslate"><span class="pre">[("x",</span> <span class="pre">10),</span> <span class="pre">("y",</span> <span class="pre">20)]</span></code>），<code class="docutils literal notranslate"><span class="pre">dict()</span></code> 会将其转换为字典。</p></li>
<li><p><strong>使用<code class="docutils literal notranslate"><span class="pre">zip()</span></code>函数</strong>：将两个列表（一个键列表、一个值列表）通过 <code class="docutils literal notranslate"><span class="pre">zip()</span></code> 组合成键值对序列，再转换为字典，适合批量创建。</p></li>
</ul>
<p>下面的代码示例展示了使用 <code class="docutils literal notranslate"><span class="pre">dict()</span></code> 构造函数的三种常见方法：通过关键字参数、元组列表，以及结合 <code class="docutils literal notranslate"><span class="pre">zip()</span></code> 函数从两个列表合并创建字典。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="c1"># 使用键值对创建</span>
</span><span id="line-2"><span class="n">person</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"李四"</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">city</span><span class="o">=</span><span class="s2">"北京"</span><span class="p">)</span> 
</span><span id="line-3"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"人员信息: </span><span class="si">{</span><span class="n">person</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># 人员信息: {'name': '李四', 'age': 25, 'city': '北京'}</span>
</span><span id="line-4">
</span><span id="line-5"><span class="c1"># 使用元组列表创建</span>
</span><span id="line-6"><span class="n">coordinates</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="s2">"x"</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="p">(</span><span class="s2">"y"</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="s2">"z"</span><span class="p">,</span> <span class="mi">30</span><span class="p">)])</span>
</span><span id="line-7"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"坐标: </span><span class="si">{</span><span class="n">coordinates</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># 坐标: {'x': 10, 'y': 20, 'z': 30}</span>
</span><span id="line-8">
</span><span id="line-9"><span class="c1"># 使用zip函数合并两个列表</span>
</span><span id="line-10"><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"a"</span><span class="p">,</span> <span class="s2">"b"</span><span class="p">,</span> <span class="s2">"c"</span><span class="p">]</span>
</span><span id="line-11"><span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</span><span id="line-12"><span class="n">combined_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="n">values</span><span class="p">))</span>
</span><span id="line-13"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"合并后的字典: </span><span class="si">{</span><span class="n">combined_dict</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># 合并后的字典: {'a': 1, 'b': 2, 'c': 3}</span>
</span></code></pre></div>
</div>
</section>
</section>
<section id="id6">
<h2>3. 字典的基本操作<a class="headerlink" href="#id6" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#id6'"><span>#</span></a></h2>
<section id="id7">
<h3>3.1 访问字典元素<br/><a class="headerlink" href="#id7" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#id7'"><span>#</span></a></h3>
<p>访问字典元素主要通过键（key）来获取对应的值（value）。有两种常用方法：</p>
<ul class="simple">
<li><p><strong>直接使用键访问</strong>：通过方括号 <code class="docutils literal notranslate"><span class="pre">[]</span></code> 和键名直接获取值，例如 <code class="docutils literal notranslate"><span class="pre">employee['name']</span></code>。但如果键不存在，会引发 <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> 错误。</p></li>
<li><p><strong>使用<code class="docutils literal notranslate"><span class="pre">get()</span></code>方法</strong>：通过 <code class="docutils literal notranslate"><span class="pre">字典.get(键,</span> <span class="pre">默认值)</span></code> 安全地访问值。如果键存在，返回对应值；如果键不存在，返回指定的默认值（默认为 <code class="docutils literal notranslate"><span class="pre">None</span></code>），避免程序因键错误而中断。</p></li>
</ul>
<p>下面的代码示例演示了如何从员工字典中访问姓名、部门等信息，并对比了直接访问和使用 <code class="docutils literal notranslate"><span class="pre">get()</span></code> 方法的区别，后者在处理可能缺失的键时更安全。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="c1"># 创建示例字典</span>
</span><span id="line-2"><span class="n">employee</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="line-3">    <span class="s2">"id"</span><span class="p">:</span> <span class="mi">1001</span><span class="p">,</span>
</span><span id="line-4">    <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"王五"</span><span class="p">,</span>
</span><span id="line-5">    <span class="s2">"department"</span><span class="p">:</span> <span class="s2">"研发部"</span><span class="p">,</span>
</span><span id="line-6">    <span class="s2">"salary"</span><span class="p">:</span> <span class="mf">15000.0</span><span class="p">,</span>
</span><span id="line-7">    <span class="s2">"skills"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"Python"</span><span class="p">,</span> <span class="s2">"Java"</span><span class="p">,</span> <span class="s2">"SQL"</span><span class="p">]</span>
</span><span id="line-8"><span class="p">}</span>
</span><span id="line-9">
</span><span id="line-10"><span class="c1"># 使用键访问值</span>
</span><span id="line-11"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"员工姓名: </span><span class="si">{</span><span class="n">employee</span><span class="p">[</span><span class="s1">'name'</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>         <span class="c1"># 员工姓名: 王五</span>
</span><span id="line-12"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"员工部门: </span><span class="si">{</span><span class="n">employee</span><span class="p">[</span><span class="s1">'department'</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>   <span class="c1"># 员工部门: 研发部</span>
</span><span id="line-13">
</span><span id="line-14"><span class="c1"># 使用get()方法访问（更安全，避免KeyError）</span>
</span><span id="line-15"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"员工薪资: </span><span class="si">{</span><span class="n">employee</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'salary'</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>   <span class="c1"># 员工薪资: 15000.0</span>
</span><span id="line-16"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"员工邮箱: </span><span class="si">{</span><span class="n">employee</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'email'</span><span class="p">,</span><span class="w"> </span><span class="s1">'未设置'</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># 员工邮箱: 未设置</span>
</span></code></pre></div>
</div>
</section>
<section id="id8">
<h3>3.2 修改字典元素<br/><a class="headerlink" href="#id8" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#id8'"><span>#</span></a></h3>
<p>修改字典元素主要包括更新现有键的值、添加新键值对以及批量更新操作。由于字典是可变的，这些操作都可以直接进行。</p>
<ul class="simple">
<li><p><strong>修改现有值</strong>：通过指定键并赋值，例如 <code class="docutils literal notranslate"><span class="pre">employee["salary"]</span> <span class="pre">=</span> <span class="pre">16000.0</span></code>，如果键已存在，其对应值会被覆盖。</p></li>
<li><p><strong>添加新键值对</strong>：直接对新键赋值，例如 <code class="docutils literal notranslate"><span class="pre">employee["email"]</span> <span class="pre">=</span> <span class="pre">"wangwu@company.com"</span></code>，如果键不存在，则会新增该键值对。</p></li>
<li><p><strong>批量更新<code class="docutils literal notranslate"><span class="pre">update()</span></code></strong>：使用 <code class="docutils literal notranslate"><span class="pre">update()</span></code> 方法，传入一个字典或键值对可迭代对象，批量更新或添加多个键值对，例如 <code class="docutils literal notranslate"><span class="pre">employee.update({"level":</span> <span class="pre">"P7"})</span></code>。</p></li>
</ul>
<p>下面的代码示例展示了如何调高员工薪资、添加邮箱和入职日期，并通过 <code class="docutils literal notranslate"><span class="pre">update()</span></code> 批量更新职级和年假天数。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="c1"># 修改现有键的值</span>
</span><span id="line-2"><span class="n">employee</span><span class="p">[</span><span class="s2">"salary"</span><span class="p">]</span> <span class="o">=</span> <span class="mf">16000.0</span>
</span><span id="line-3"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"调薪后: </span><span class="si">{</span><span class="n">employee</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="line-4">
</span><span id="line-5"><span class="c1"># 添加新键值对</span>
</span><span id="line-6"><span class="n">employee</span><span class="p">[</span><span class="s2">"email"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"wangwu@company.com"</span>
</span><span id="line-7"><span class="n">employee</span><span class="p">[</span><span class="s2">"hire_date"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"2023-01-15"</span>
</span><span id="line-8"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"添加信息后: </span><span class="si">{</span><span class="n">employee</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="line-9">
</span><span id="line-10"><span class="c1"># 批量更新update()</span>
</span><span id="line-11"><span class="n">employee</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
</span><span id="line-12">    <span class="s2">"level"</span><span class="p">:</span> <span class="s2">"P7"</span><span class="p">,</span>
</span><span id="line-13">    <span class="s2">"annual_leave"</span><span class="p">:</span> <span class="mi">15</span>
</span><span id="line-14"><span class="p">})</span>
</span><span id="line-15"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"批量更新后: </span><span class="si">{</span><span class="n">employee</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span></code></pre></div>
</div>
</section>
<section id="id9">
<h3>3.3 删除字典元素<br/><a class="headerlink" href="#id9" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#id9'"><span>#</span></a></h3>
<p>删除字典元素有多种方法，可根据需要移除单个键值对或清空整个字典。操作时需注意避免引用不存在的键。</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">del</span></code>语句</strong>：使用 <code class="docutils literal notranslate"><span class="pre">del</span> <span class="pre">字典[键]</span></code> 删除指定键及其值，键不存在会引发 <code class="docutils literal notranslate"><span class="pre">KeyError</span></code>。</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">pop()</span></code>方法</strong>：使用 <code class="docutils literal notranslate"><span class="pre">字典.pop(键,</span> <span class="pre">默认值)</span></code> 删除指定键并返回其值。如果键不存在，可提供默认值避免错误。</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">popitem()</span></code>方法</strong>：移除并返回最后插入的键值对（Python 3.7+ 中字典有序）。字典为空时引发 <code class="docutils literal notranslate"><span class="pre">KeyError</span></code>。</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">clear()</span></code>方法</strong>：清空字典所有键值对，使其变为空字典 <code class="docutils literal notranslate"><span class="pre">{}</span></code>。</p></li>
</ul>
<p>下面的代码示例在字典副本上演示了这些删除操作：用 <code class="docutils literal notranslate"><span class="pre">del</span></code> 删除入职日期，用 <code class="docutils literal notranslate"><span class="pre">pop()</span></code> 移除职级并获取值，用 <code class="docutils literal notranslate"><span class="pre">popitem()</span></code> 删除最后一项，最后用 <code class="docutils literal notranslate"><span class="pre">clear()</span></code> 清空字典。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="c1"># 创建副本进行操作</span>
</span><span id="line-2"><span class="n">employee_copy</span> <span class="o">=</span> <span class="n">employee</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="line-3">
</span><span id="line-4"><span class="c1"># 使用del删除指定键</span>
</span><span id="line-5"><span class="k">del</span> <span class="n">employee_copy</span><span class="p">[</span><span class="s2">"hire_date"</span><span class="p">]</span>
</span><span id="line-6"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"删除hire_date后: </span><span class="si">{</span><span class="n">employee_copy</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="line-7">
</span><span id="line-8"><span class="c1"># 使用pop()删除并返回值</span>
</span><span id="line-9"><span class="n">removed_value</span> <span class="o">=</span> <span class="n">employee_copy</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">"level"</span><span class="p">)</span>
</span><span id="line-10"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"删除的level值: </span><span class="si">{</span><span class="n">removed_value</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="line-11"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"删除后: </span><span class="si">{</span><span class="n">employee_copy</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="line-12">
</span><span id="line-13"><span class="c1"># 使用popitem()删除最后一个元素（Python 3.7+）</span>
</span><span id="line-14"><span class="n">last_item</span> <span class="o">=</span> <span class="n">employee_copy</span><span class="o">.</span><span class="n">popitem</span><span class="p">()</span>
</span><span id="line-15"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"删除的最后一项: </span><span class="si">{</span><span class="n">last_item</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="line-16"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"删除后: </span><span class="si">{</span><span class="n">employee_copy</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="line-17">
</span><span id="line-18"><span class="c1"># 清空字典</span>
</span><span id="line-19"><span class="n">employee_copy</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="line-20"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"清空后: </span><span class="si">{</span><span class="n">employee_copy</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span></code></pre></div>
</div>
</section>
</section>
<section id="id10">
<h2>4. 字典的常用方法<a class="headerlink" href="#id10" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#id10'"><span>#</span></a></h2>
<section id="id11">
<h3>4.1 获取字典信息<br/><a class="headerlink" href="#id11" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#id11'"><span>#</span></a></h3>
<p>字典提供了多种方法来获取其内部信息，包括键、值、键值对以及字典大小等。这些方法返回的是视图对象（view objects），可动态反映字典的变化。</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">keys()</span></code></strong>：返回字典所有键的视图，常用于遍历或检查键的存在。</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">values()</span></code></strong>：返回字典所有值的视图，用于处理值的集合。</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">items()</span></code></strong>：返回字典所有键值对的视图，每个键值对以元组形式表示，便于同时访问键和值。</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">len()</span></code></strong>：返回字典中键值对的数量，即字典长度。</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">in</span></code>操作符</strong>：检查指定键是否存在于字典中，返回布尔值。</p></li>
</ul>
<p>下面的代码示例从库存字典中获取所有水果名称（键）、库存数量（值）和完整条目（键值对），计算字典长度，并检查特定水果是否存在。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">inventory</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="line-2">    <span class="s2">"apple"</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span>
</span><span id="line-3">    <span class="s2">"banana"</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
</span><span id="line-4">    <span class="s2">"orange"</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span>
</span><span id="line-5">    <span class="s2">"grape"</span><span class="p">:</span> <span class="mi">25</span>
</span><span id="line-6"><span class="p">}</span>
</span><span id="line-7">
</span><span id="line-8"><span class="c1"># 获取所有键</span>
</span><span id="line-9"><span class="n">keys</span> <span class="o">=</span> <span class="n">inventory</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</span><span id="line-10"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"所有键: </span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="line-11">
</span><span id="line-12"><span class="c1"># 获取所有值</span>
</span><span id="line-13"><span class="n">values</span> <span class="o">=</span> <span class="n">inventory</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
</span><span id="line-14"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"所有值: </span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="n">values</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="line-15">
</span><span id="line-16"><span class="c1"># 获取所有键值对</span>
</span><span id="line-17"><span class="n">items</span> <span class="o">=</span> <span class="n">inventory</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
</span><span id="line-18"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"所有键值对: </span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="n">items</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="line-19">
</span><span id="line-20"><span class="c1"># 获取字典长度</span>
</span><span id="line-21"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"字典长度: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">inventory</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="line-22">
</span><span id="line-23"><span class="c1"># 检查键是否存在</span>
</span><span id="line-24"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"是否存在apple: </span><span class="si">{</span><span class="s1">'apple'</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">inventory</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="line-25"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"是否存在pear: </span><span class="si">{</span><span class="s1">'pear'</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">inventory</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span></code></pre></div>
</div>
</section>
<section id="id12">
<h3>4.2 字典遍历<br/><a class="headerlink" href="#id12" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#id12'"><span>#</span></a></h3>
<p>遍历字典是指逐个访问其中的键值对，这是处理字典数据的基本操作。Python提供了简洁的方式来遍历键、值或两者同时遍历。</p>
<ul class="simple">
<li><p><strong>遍历键</strong>：使用 <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">key</span> <span class="pre">in</span> <span class="pre">字典.keys():</span></code> 或直接 <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">key</span> <span class="pre">in</span> <span class="pre">字典:</span></code>（默认遍历键），依次访问每个键。</p></li>
<li><p><strong>遍历值</strong>：使用 <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">value</span> <span class="pre">in</span> <span class="pre">字典.values():</span></code>，直接访问每个值。</p></li>
<li><p><strong>遍历键值对</strong>：使用 <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">key,</span> <span class="pre">value</span> <span class="pre">in</span> <span class="pre">字典.items():</span></code>，同时获取键和值，这是最常用的遍历方式。</p></li>
<li><p><strong>结合<code class="docutils literal notranslate"><span class="pre">enumerate()</span></code></strong>：使用 <code class="docutils literal notranslate"><span class="pre">enumerate(字典.items(),</span> <span class="pre">start)</span></code> 在遍历时获取索引（从 <code class="docutils literal notranslate"><span class="pre">start</span></code> 开始），便于记录位置或序号。</p></li>
</ul>
<p>下面的代码示例展示了如何遍历库存字典：分别遍历键、值和键值对，并演示了如何使用 <code class="docutils literal notranslate"><span class="pre">enumerate()</span></code> 为每个条目添加序号。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="c1"># 遍历所有键</span>
</span><span id="line-2"><span class="nb">print</span><span class="p">(</span><span class="s2">"遍历所有键:"</span><span class="p">)</span>
</span><span id="line-3"><span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">inventory</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="line-4">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"键: </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="line-5">
</span><span id="line-6"><span class="c1"># 遍历所有值</span>
</span><span id="line-7"><span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">遍历所有值:"</span><span class="p">)</span>
</span><span id="line-8"><span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">inventory</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
</span><span id="line-9">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"值: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="line-10">
</span><span id="line-11"><span class="c1"># 遍历所有键值对</span>
</span><span id="line-12"><span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">遍历所有键值对:"</span><span class="p">)</span>
</span><span id="line-13"><span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">inventory</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="line-14">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="line-15">
</span><span id="line-16"><span class="c1"># 使用enumerate获取索引</span>
</span><span id="line-17"><span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">带索引的遍历:"</span><span class="p">)</span>
</span><span id="line-18"><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">inventory</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="mi">1</span><span class="p">):</span>
</span><span id="line-19">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span></code></pre></div>
</div>
</section>
</section>
<section id="id13">
<h2>5. 字典推导式<br/><a class="headerlink" href="#id13" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#id13'"><span>#</span></a></h2>
<p>字典推导式（Dictionary Comprehension）是Python中一种简洁、高效地创建字典的方法，其语法类似于列表推导式，但生成的是键值对。它可以使代码更简洁、可读性更强。</p>
<ul class="simple">
<li><p><strong>基本语法</strong>：<code class="docutils literal notranslate"><span class="pre">{键表达式:</span> <span class="pre">值表达式</span> <span class="pre">for</span> <span class="pre">变量</span> <span class="pre">in</span> <span class="pre">可迭代对象}</span></code>，通过循环从可迭代对象生成键值对。</p></li>
<li><p><strong>添加条件过滤</strong>：可以在推导式末尾添加 <code class="docutils literal notranslate"><span class="pre">if</span></code> 条件，例如 <code class="docutils literal notranslate"><span class="pre">{x:</span> <span class="pre">x**2</span> <span class="pre">for</span> <span class="pre">x</span> <span class="pre">in</span> <span class="pre">numbers</span> <span class="pre">if</span> <span class="pre">x</span> <span class="pre">%</span> <span class="pre">2</span> <span class="pre">==</span> <span class="pre">0}</span></code>，仅对满足条件的元素生成键值对。</p></li>
<li><p><strong>转换现有字典</strong>：通过遍历现有字典的 <code class="docutils literal notranslate"><span class="pre">items()</span></code>，对键或值进行变换，生成新字典。</p></li>
<li><p><strong>合并两个序列</strong>：结合 <code class="docutils literal notranslate"><span class="pre">zip()</span></code> 函数，将两个列表（或可迭代对象）配对为键值对。</p></li>
</ul>
<p>下面的代码示例演示了如何使用字典推导式：从数字列表创建平方字典、过滤偶数平方、对库存字典中的值打九折，以及从水果和价格列表创建价格字典。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="c1"># 基本字典推导式</span>
</span><span id="line-2"><span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
</span><span id="line-3"><span class="n">squared_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">numbers</span><span class="p">}</span>
</span><span id="line-4"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"平方字典: </span><span class="si">{</span><span class="n">squared_dict</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="line-5">
</span><span id="line-6"><span class="c1"># 带条件的字典推导式</span>
</span><span id="line-7"><span class="n">even_squares</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">numbers</span> <span class="k">if</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">}</span>
</span><span id="line-8"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"偶数的平方: </span><span class="si">{</span><span class="n">even_squares</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="line-9">
</span><span id="line-10"><span class="c1"># 转换现有字典</span>
</span><span id="line-11"><span class="n">inventory_discount</span> <span class="o">=</span> <span class="p">{</span><span class="n">item</span><span class="p">:</span> <span class="n">count</span> <span class="o">*</span> <span class="mf">0.9</span> <span class="k">for</span> <span class="n">item</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">inventory</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
</span><span id="line-12"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"打九折后的库存: </span><span class="si">{</span><span class="n">inventory_discount</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="line-13">
</span><span id="line-14"><span class="c1"># 使用两个列表创建字典</span>
</span><span id="line-15"><span class="n">fruits</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"apple"</span><span class="p">,</span> <span class="s2">"banana"</span><span class="p">,</span> <span class="s2">"orange"</span><span class="p">,</span> <span class="s2">"grape"</span><span class="p">]</span>
</span><span id="line-16"><span class="n">prices</span> <span class="o">=</span> <span class="p">[</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">]</span>
</span><span id="line-17"><span class="n">fruit_prices</span> <span class="o">=</span> <span class="p">{</span><span class="n">fruit</span><span class="p">:</span> <span class="n">price</span> <span class="k">for</span> <span class="n">fruit</span><span class="p">,</span> <span class="n">price</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">fruits</span><span class="p">,</span> <span class="n">prices</span><span class="p">)}</span>
</span><span id="line-18"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"水果价格: </span><span class="si">{</span><span class="n">fruit_prices</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span></code></pre></div>
</div>
</section>
<section id="id14">
<h2>6. 嵌套字典<br/><a class="headerlink" href="#id14" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#id14'"><span>#</span></a></h2>
<p>嵌套字典是指字典的值本身也是字典（或其它容器），形成多层结构。这种结构适合表示复杂、分层次的数据，例如组织机构、配置信息等。</p>
<ul class="simple">
<li><p><strong>创建嵌套字典</strong>：直接在字典的值位置放置另一个字典，形成多层嵌套，如示例中的部门信息和公司信息。</p></li>
<li><p><strong>访问嵌套元素</strong>：使用连续方括号逐层访问，例如 <code class="docutils literal notranslate"><span class="pre">company['departments']['研发部']['manager']</span></code>，从外到内依次指定每一层的键。</p></li>
<li><p><strong>修改嵌套值</strong>：与访问类似，通过多层键定位到具体位置后直接赋值，例如修改研发部人数或公司地点。</p></li>
<li><p><strong>添加新嵌套结构</strong>：可以直接为外层字典的键赋值一个新的字典，从而添加一个完整的嵌套层级，如新增财务部信息。</p></li>
</ul>
<p>下面的代码示例展示了一个包含部门和公司信息的嵌套字典，演示了如何访问、修改和添加嵌套内容。这种结构在实际应用中广泛用于管理复杂数据关系。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="c1"># 创建嵌套字典</span>
</span><span id="line-2"><span class="n">company</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="line-3">    <span class="s2">"departments"</span><span class="p">:</span> <span class="p">{</span>
</span><span id="line-4">        <span class="s2">"研发部"</span><span class="p">:</span> <span class="p">{</span>
</span><span id="line-5">            <span class="s2">"manager"</span><span class="p">:</span> <span class="s2">"张三"</span><span class="p">,</span>
</span><span id="line-6">            <span class="s2">"employee_count"</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span>
</span><span id="line-7">            <span class="s2">"budget"</span><span class="p">:</span> <span class="mi">500000</span>
</span><span id="line-8">        <span class="p">},</span>
</span><span id="line-9">        <span class="s2">"市场部"</span><span class="p">:</span> <span class="p">{</span>
</span><span id="line-10">            <span class="s2">"manager"</span><span class="p">:</span> <span class="s2">"李四"</span><span class="p">,</span>
</span><span id="line-11">            <span class="s2">"employee_count"</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
</span><span id="line-12">            <span class="s2">"budget"</span><span class="p">:</span> <span class="mi">300000</span>
</span><span id="line-13">        <span class="p">},</span>
</span><span id="line-14">        <span class="s2">"人事部"</span><span class="p">:</span> <span class="p">{</span>
</span><span id="line-15">            <span class="s2">"manager"</span><span class="p">:</span> <span class="s2">"王五"</span><span class="p">,</span>
</span><span id="line-16">            <span class="s2">"employee_count"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
</span><span id="line-17">            <span class="s2">"budget"</span><span class="p">:</span> <span class="mi">200000</span>
</span><span id="line-18">        <span class="p">}</span>
</span><span id="line-19">    <span class="p">},</span>
</span><span id="line-20">    <span class="s2">"company_info"</span><span class="p">:</span> <span class="p">{</span>
</span><span id="line-21">        <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"ABC科技有限公司"</span><span class="p">,</span>
</span><span id="line-22">        <span class="s2">"location"</span><span class="p">:</span> <span class="s2">"北京市"</span><span class="p">,</span>
</span><span id="line-23">        <span class="s2">"established"</span><span class="p">:</span> <span class="mi">2010</span>
</span><span id="line-24">    <span class="p">}</span>
</span><span id="line-25"><span class="p">}</span>
</span><span id="line-26">
</span><span id="line-27"><span class="c1"># 访问嵌套字典</span>
</span><span id="line-28"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"研发部经理: </span><span class="si">{</span><span class="n">company</span><span class="p">[</span><span class="s1">'departments'</span><span class="p">][</span><span class="s1">'研发部'</span><span class="p">][</span><span class="s1">'manager'</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="line-29"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"公司名称: </span><span class="si">{</span><span class="n">company</span><span class="p">[</span><span class="s1">'company_info'</span><span class="p">][</span><span class="s1">'name'</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="line-30">
</span><span id="line-31"><span class="c1"># 修改嵌套字典</span>
</span><span id="line-32"><span class="n">company</span><span class="p">[</span><span class="s1">'departments'</span><span class="p">][</span><span class="s1">'研发部'</span><span class="p">][</span><span class="s1">'employee_count'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">18</span>
</span><span id="line-33"><span class="n">company</span><span class="p">[</span><span class="s1">'company_info'</span><span class="p">][</span><span class="s1">'location'</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"北京市海淀区"</span>
</span><span id="line-34">
</span><span id="line-35"><span class="c1"># 添加新的嵌套结构</span>
</span><span id="line-36"><span class="n">company</span><span class="p">[</span><span class="s1">'departments'</span><span class="p">][</span><span class="s1">'财务部'</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="line-37">    <span class="s2">"manager"</span><span class="p">:</span> <span class="s2">"赵六"</span><span class="p">,</span>
</span><span id="line-38">    <span class="s2">"employee_count"</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
</span><span id="line-39">    <span class="s2">"budget"</span><span class="p">:</span> <span class="mi">250000</span>
</span><span id="line-40"><span class="p">}</span>
</span><span id="line-41">
</span><span id="line-42"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"更新后的公司结构: </span><span class="si">{</span><span class="n">company</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span></code></pre></div>
</div>
</section>
<section id="id15">
<h2>7. 字典的高级操作<a class="headerlink" href="#id15" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#id15'"><span>#</span></a></h2>
<section id="id16">
<h3>7.1 字典合并<br/><a class="headerlink" href="#id16" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#id16'"><span>#</span></a></h3>
<p>字典合并是将多个字典的内容整合到一个字典中，Python 3.9+ 提供了多种方法。</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">**</span></code> 解包操作符</strong>：使用 <code class="docutils literal notranslate"><span class="pre">{**dict1,</span> <span class="pre">**dict2,</span> <span class="pre">**dict3}</span></code> 语法，将多个字典解包合并。如果存在重复键，<strong>后面的字典会覆盖前面的值</strong>（如示例中 <code class="docutils literal notranslate"><span class="pre">dict3</span></code> 的 <code class="docutils literal notranslate"><span class="pre">"a":</span> <span class="pre">10</span></code> 覆盖了 <code class="docutils literal notranslate"><span class="pre">dict1</span></code> 的 <code class="docutils literal notranslate"><span class="pre">"a":</span> <span class="pre">1</span></code>）。</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">|</span></code> 合并操作符（Python 3.9+）</strong>：使用 <code class="docutils literal notranslate"><span class="pre">dict1</span> <span class="pre">|</span> <span class="pre">dict2</span> <span class="pre">|</span> <span class="pre">dict3</span></code>，效果与 <code class="docutils literal notranslate"><span class="pre">**</span></code> 解包相同，语法更直观，但需注意Python版本兼容性。</p></li>
</ul>
<p>下面的代码示例展示了如何使用 <code class="docutils literal notranslate"><span class="pre">**</span></code> 操作符合并三个字典（其中包含重复键 <code class="docutils literal notranslate"><span class="pre">"a"</span></code>），并注释了 <code class="docutils literal notranslate"><span class="pre">|</span></code> 操作符的用法。合并后的字典包含所有键值对，重复键的值以最后一个字典为准。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="c1"># 使用**操作符合并字典</span>
</span><span id="line-2"><span class="n">dict1</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"a"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"b"</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
</span><span id="line-3"><span class="n">dict2</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"c"</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">"d"</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
</span><span id="line-4"><span class="n">dict3</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"e"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">"a"</span><span class="p">:</span> <span class="mi">10</span><span class="p">}</span>  <span class="c1"># 注意：a重复</span>
</span><span id="line-5">
</span><span id="line-6"><span class="c1"># 合并字典（后面的字典覆盖前面的）</span>
</span><span id="line-7"><span class="n">merged_dict</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">dict1</span><span class="p">,</span> <span class="o">**</span><span class="n">dict2</span><span class="p">,</span> <span class="o">**</span><span class="n">dict3</span><span class="p">}</span>
</span><span id="line-8"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"合并后的字典: </span><span class="si">{</span><span class="n">merged_dict</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="line-9">
</span><span id="line-10"><span class="c1"># 使用|操作符合并（Python 3.9+）</span>
</span><span id="line-11"><span class="c1"># merged_dict = dict1 | dict2 | dict3</span>
</span></code></pre></div>
</div>
</section>
<section id="id17">
<h3>7.2 字典排序<br/><a class="headerlink" href="#id17" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#id17'"><span>#</span></a></h3>
<p>字典本身是无序的（Python 3.6及之前）或保持插入顺序（Python 3.7+），但可通过排序生成一个新的有序字典。排序通常基于键或值。</p>
<ul class="simple">
<li><p><strong>按键排序</strong>：使用 <code class="docutils literal notranslate"><span class="pre">sorted(字典.items())</span></code>，默认按键排序（升序），返回键值对元组的列表，再通过 <code class="docutils literal notranslate"><span class="pre">dict()</span></code> 转为字典。</p></li>
<li><p><strong>按值排序</strong>：使用 <code class="docutils literal notranslate"><span class="pre">sorted(字典.items(),</span> <span class="pre">key=lambda</span> <span class="pre">item:</span> <span class="pre">item[1])</span></code>，其中 <code class="docutils literal notranslate"><span class="pre">key=lambda</span> <span class="pre">item:</span> <span class="pre">item[1]</span></code> 指定按值（元组第二个元素）排序。</p></li>
<li><p><strong>降序排序</strong>：添加参数 <code class="docutils literal notranslate"><span class="pre">reverse=True</span></code>，可实现降序排列。</p></li>
</ul>
<p>下面的代码示例展示了如何对未排序字典进行按键排序、按值升序排序和按值降序排序，并将排序结果转换为新字典。排序操作不会改变原字典，而是生成新字典。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="c1"># 按键排序</span>
</span><span id="line-2"><span class="n">unsorted_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"z"</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">"a"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"m"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">"c"</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
</span><span id="line-3">
</span><span id="line-4"><span class="c1"># 返回排序后的新字典（Python 3.7+）</span>
</span><span id="line-5"><span class="n">sorted_by_key</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">unsorted_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()))</span>
</span><span id="line-6"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"按键排序: </span><span class="si">{</span><span class="n">sorted_by_key</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="line-7">
</span><span id="line-8"><span class="c1"># 按值排序</span>
</span><span id="line-9"><span class="n">sorted_by_value</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">unsorted_dict</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">item</span><span class="p">:</span> <span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
</span><span id="line-10"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"按值排序: </span><span class="si">{</span><span class="n">sorted_by_value</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="line-11">
</span><span id="line-12"><span class="c1"># 按值降序排序</span>
</span><span id="line-13"><span class="n">sorted_desc</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">unsorted_dict</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">item</span><span class="p">:</span> <span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</span><span id="line-14"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"按值降序排序: </span><span class="si">{</span><span class="n">sorted_desc</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span></code></pre></div>
</div>
</section>
</section>
<section id="json">
<h2>8. 字典与JSON转换<br/><a class="headerlink" href="#json" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#json'"><span>#</span></a></h2>
<p>字典与JSON（JavaScript Object Notation）可以方便地相互转换，因为它们的结构非常相似。Python通过内置的 <code class="docutils literal notranslate"><span class="pre">json</span></code> 模块实现这一功能，常用于数据存储、传输和配置文件处理。</p>
<ul class="simple">
<li><p><strong>字典转JSON</strong>：</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">json.dumps(字典)</span></code>：将字典转换为JSON格式字符串。参数 <code class="docutils literal notranslate"><span class="pre">ensure_ascii=False</span></code> 确保中文字符正常显示，<code class="docutils literal notranslate"><span class="pre">indent=2</span></code> 添加缩进美化输出。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">json.dump(字典,</span> <span class="pre">文件对象)</span></code>：将字典直接写入JSON文件。</p></li>
</ul>
</li>
<li><p><strong>JSON转字典</strong>：</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">json.loads(JSON字符串)</span></code>：将JSON字符串解析为字典。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">json.load(文件对象)</span></code>：从JSON文件读取并转换为字典。</p></li>
</ul>
</li>
</ul>
<p>下面的代码示例展示了如何将包含嵌套结构和多种数据类型的字典转换为格式化的JSON字符串并保存到文件，然后再从文件读取JSON并转换回字典。这种转换在Web API、配置管理等场景中非常常见。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
</span><span id="line-2">
</span><span id="line-3"><span class="c1"># 字典转JSON</span>
</span><span id="line-4"><span class="n">data_dict</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="line-5">    <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"张三"</span><span class="p">,</span>
</span><span id="line-6">    <span class="s2">"age"</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
</span><span id="line-7">    <span class="s2">"married"</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="line-8">    <span class="s2">"children"</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="line-9">    <span class="s2">"hobbies"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"阅读"</span><span class="p">,</span> <span class="s2">"游泳"</span><span class="p">,</span> <span class="s2">"编程"</span><span class="p">],</span>
</span><span id="line-10">    <span class="s2">"address"</span><span class="p">:</span> <span class="p">{</span>
</span><span id="line-11">        <span class="s2">"city"</span><span class="p">:</span> <span class="s2">"北京"</span><span class="p">,</span>
</span><span id="line-12">        <span class="s2">"street"</span><span class="p">:</span> <span class="s2">"中关村大街"</span>
</span><span id="line-13">    <span class="p">}</span>
</span><span id="line-14"><span class="p">}</span>
</span><span id="line-15">
</span><span id="line-16"><span class="c1"># 转换为JSON字符串</span>
</span><span id="line-17"><span class="n">json_str</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data_dict</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</span><span id="line-18"><span class="nb">print</span><span class="p">(</span><span class="s2">"字典转JSON字符串:"</span><span class="p">)</span>
</span><span id="line-19"><span class="nb">print</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span>
</span><span id="line-20">
</span><span id="line-21"><span class="c1"># 保存到文件</span>
</span><span id="line-22"><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">"data.json"</span><span class="p">,</span> <span class="s2">"w"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span><span id="line-23">    <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">data_dict</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</span><span id="line-24">
</span><span id="line-25"><span class="c1"># JSON转字典</span>
</span><span id="line-26"><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">"data.json"</span><span class="p">,</span> <span class="s2">"r"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span><span id="line-27">    <span class="n">loaded_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</span><span id="line-28">
</span><span id="line-29"><span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">JSON转回字典:"</span><span class="p">)</span>
</span><span id="line-30"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"类型: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">loaded_dict</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="line-31"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"内容: </span><span class="si">{</span><span class="n">loaded_dict</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span></code></pre></div>
</div>
</section>
<section id="id18">
<h2>9. 字典性能<br/><a class="headerlink" href="#id18" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#id18'"><span>#</span></a></h2>
<p>字典在Python中是一种高效的数据结构，其核心优势在于基于哈希表的实现，使得大多数操作具有平均 O(1) 的时间复杂度，即操作时间基本不随数据量增加而显著增长。</p>
<ul class="simple">
<li><p><strong>查找操作</strong>：通过键查找值（如 <code class="docutils literal notranslate"><span class="pre">large_dict[999999]</span></code>）的速度极快，因为哈希表直接定位键的位置，无需遍历。</p></li>
<li><p><strong>成员检查</strong>：使用 <code class="docutils literal notranslate"><span class="pre">in</span></code> 检查键是否存在（如 <code class="docutils literal notranslate"><span class="pre">999999</span> <span class="pre">in</span> <span class="pre">large_dict</span></code>）同样高效，也是基于哈希查找。</p></li>
<li><p><strong>时间复杂度</strong>：在理想情况下，插入、删除、查找等操作的平均时间复杂度为 O(1)，但在哈希冲突较多时可能退化为 O(n)。不过Python的字典实现已优化，日常使用中性能很高。</p></li>
</ul>
<p>下面的代码示例通过一个包含100万个元素的字典，测试了键查找和成员检查的执行时间（毫秒级），展示了字典在处理大规模数据时仍能保持高效。因此，字典适合需要快速查找、去重或映射关系的场景。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
</span><span id="line-2">
</span><span id="line-3"><span class="c1"># 字典查找性能测试</span>
</span><span id="line-4"><span class="n">large_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="sa">f</span><span class="s2">"value_</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">"</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000000</span><span class="p">)}</span>
</span><span id="line-5">
</span><span id="line-6"><span class="c1"># 测试键查找速度</span>
</span><span id="line-7"><span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</span><span id="line-8"><span class="n">_</span> <span class="o">=</span> <span class="n">large_dict</span><span class="p">[</span><span class="mi">999999</span><span class="p">]</span>  <span class="c1"># O(1)时间复杂度</span>
</span><span id="line-9"><span class="n">end_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</span><span id="line-10"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"字典查找时间: </span><span class="si">{</span><span class="p">(</span><span class="n">end_time</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">start_time</span><span class="p">)</span><span class="o">*</span><span class="mi">10000</span><span class="si">:</span><span class="s2">.9f</span><span class="si">}</span><span class="s2">毫秒"</span><span class="p">)</span>
</span><span id="line-11">
</span><span id="line-12"><span class="c1"># 测试成员检查</span>
</span><span id="line-13"><span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</span><span id="line-14"><span class="n">_</span> <span class="o">=</span> <span class="mi">999999</span> <span class="ow">in</span> <span class="n">large_dict</span>  <span class="c1"># O(1)时间复杂度</span>
</span><span id="line-15"><span class="n">end_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</span><span id="line-16"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"成员检查时间: </span><span class="si">{</span><span class="p">(</span><span class="n">end_time</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">start_time</span><span class="p">)</span><span class="o">*</span><span class="mi">10000</span><span class="si">:</span><span class="s2">.9f</span><span class="si">}</span><span class="s2">毫秒"</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>掌握字典操作对于编写高效、可读的Python代码至关重要。</p>
<div style="display: flex; justify-content: space-between; padding: 15px 0; margin: 20px 0; border-top: 1px solid #eaeaea; border-bottom: 1px solid #eaeaea;">
<a href="./1_6_元组和元组操作.html" style="text-decoration: none; color: #0366d6; padding: 8px 15px; border: 1px solid #e1e4e8; border-radius: 5px;">👈 上一页</a>
<a href="../index.html" style="text-decoration: none; color: #0366d6; padding: 8px 15px; border: 1px solid #e1e4e8; border-radius: 5px;">🏠 首页</a>
<a href="./1_8_数据类型转换.html" style="text-decoration: none; color: #0366d6; padding: 8px 15px; border: 1px solid #e1e4e8; border-radius: 5px;">下一页 👉</a>
</div>
</section>
</section>
</div></div><aside class="hidden text-sm xl:block" id="right-sidebar">
<div class="sticky top-16 -mt-10 max-h-[calc(100vh-5rem)] overflow-y-auto pt-6 space-y-2"><p class="font-medium">On this page</p>
<ul>
<li><a :data-current="activeSection === '#id2'" class="reference internal" href="#id2">1. 字典的基本概念</a><ul>
<li><a :data-current="activeSection === '#id3'" class="reference internal" href="#id3">1.1 字典的特点</a></li>
</ul>
</li>
<li><a :data-current="activeSection === '#id4'" class="reference internal" href="#id4">2. 字典的创建</a><ul>
<li><a :data-current="activeSection === '#id5'" class="reference internal" href="#id5">2.1 直接创建<br/></a></li>
<li><a :data-current="activeSection === '#dict'" class="reference internal" href="#dict">2.2 使用dict()构造函数<br/></a></li>
</ul>
</li>
<li><a :data-current="activeSection === '#id6'" class="reference internal" href="#id6">3. 字典的基本操作</a><ul>
<li><a :data-current="activeSection === '#id7'" class="reference internal" href="#id7">3.1 访问字典元素<br/></a></li>
<li><a :data-current="activeSection === '#id8'" class="reference internal" href="#id8">3.2 修改字典元素<br/></a></li>
<li><a :data-current="activeSection === '#id9'" class="reference internal" href="#id9">3.3 删除字典元素<br/></a></li>
</ul>
</li>
<li><a :data-current="activeSection === '#id10'" class="reference internal" href="#id10">4. 字典的常用方法</a><ul>
<li><a :data-current="activeSection === '#id11'" class="reference internal" href="#id11">4.1 获取字典信息<br/></a></li>
<li><a :data-current="activeSection === '#id12'" class="reference internal" href="#id12">4.2 字典遍历<br/></a></li>
</ul>
</li>
<li><a :data-current="activeSection === '#id13'" class="reference internal" href="#id13">5. 字典推导式<br/></a></li>
<li><a :data-current="activeSection === '#id14'" class="reference internal" href="#id14">6. 嵌套字典<br/></a></li>
<li><a :data-current="activeSection === '#id15'" class="reference internal" href="#id15">7. 字典的高级操作</a><ul>
<li><a :data-current="activeSection === '#id16'" class="reference internal" href="#id16">7.1 字典合并<br/></a></li>
<li><a :data-current="activeSection === '#id17'" class="reference internal" href="#id17">7.2 字典排序<br/></a></li>
</ul>
</li>
<li><a :data-current="activeSection === '#json'" class="reference internal" href="#json">8. 字典与JSON转换<br/></a></li>
<li><a :data-current="activeSection === '#id18'" class="reference internal" href="#id18">9. 字典性能<br/></a></li>
</ul>
</div>
</aside>
</main>
</div>
</div><footer class="py-6 border-t border-border md:py-0">
<div class="container flex flex-col items-center justify-between gap-4 md:h-24 md:flex-row">
<div class="flex flex-col items-center gap-4 px-8 md:flex-row md:gap-2 md:px-0">
<p class="text-sm leading-loose text-center text-muted-foreground md:text-left">© 2026, ZhouLong Built with <a class="font-medium underline underline-offset-4" href="https://www.sphinx-doc.org" rel="noreferrer">Sphinx 8.1.3</a></p>
</div>
</div>
</footer>
</div>
<script src="../_static/documentation_options.js?v=f115507d"></script>
<script src="../_static/doctools.js?v=9bcbadda"></script>
<script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
<script defer="defer" src="../_static/theme.js?v=073f68d9"></script>
<script src="../_static/translations.js?v=beaddf03"></script>
</body>
</html>